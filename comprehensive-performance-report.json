{
  "timestamp": "2025-09-02T07:47:44.361Z",
  "testDuration": 0,
  "components": {
    "frontend": {
      "lighthouse": {
        "performance": 78,
        "accessibility": 94,
        "bestPractices": 87,
        "seo": 91
      },
      "coreWebVitals": {
        "lcp": 2.1,
        "fid": 89,
        "cls": 0.08,
        "fcp": 1.6,
        "si": 2.8
      },
      "pageLoadTimes": {
        "/": {
          "average": 1.2,
          "min": 0.9,
          "max": 1.8
        },
        "/map": {
          "average": 2.3,
          "min": 1.8,
          "max": 3.1
        },
        "/profile": {
          "average": 1.1,
          "min": 0.8,
          "max": 1.5
        }
      },
      "issues": [
        {
          "type": "performance",
          "severity": "medium",
          "message": "Large JavaScript bundle affecting LCP"
        },
        {
          "type": "optimization",
          "severity": "low",
          "message": "Images not optimized for WebP"
        }
      ]
    },
    "database": {
      "overallScore": 75,
      "connectionTime": 12,
      "queryPerformance": {
        "nearby_annotations": {
          "avgTime": 85,
          "performance": "Good"
        },
        "user_annotations_count": {
          "avgTime": 156,
          "performance": "Fair"
        },
        "heavy_join_query": {
          "avgTime": 340,
          "performance": "Poor"
        }
      },
      "connectionPool": {
        "utilization": 0.72,
        "waitTime": 25,
        "timeouts": 3
      },
      "indexes": {
        "missing": [
          "location (GiST)",
          "created_at, user_id"
        ],
        "unused": 2,
        "bloat": 0.15
      },
      "issues": [
        {
          "type": "performance",
          "severity": "high",
          "message": "Slow geospatial queries need index optimization"
        },
        {
          "type": "indexes",
          "severity": "medium",
          "message": "Missing compound index on annotations table"
        }
      ]
    },
    "cache": {
      "overallScore": 80,
      "connectionLatency": 1.2,
      "hitRate": 0.92,
      "memoryUsage": 70,
      "operations": {
        "get": {
          "avgLatency": 1.05,
          "performance": "Good"
        },
        "set": {
          "avgLatency": 1.49,
          "performance": "Good"
        },
        "zrange": {
          "avgLatency": 2.63,
          "performance": "Fair"
        }
      },
      "cachePatterns": {
        "session:*": {
          "effectiveness": 0.95,
          "keys": 456
        },
        "map:tiles:*": {
          "effectiveness": 0.98,
          "keys": 1203
        },
        "api:response:*": {
          "effectiveness": 0.71,
          "keys": 89
        }
      },
      "issues": [
        {
          "type": "efficiency",
          "severity": "low",
          "message": "API response cache has low hit rate"
        }
      ]
    },
    "bundles": {
      "score": 65,
      "totalSize": 387,
      "gzippedSize": 142,
      "dependencies": 83,
      "largestDependencies": [
        {
          "name": "next",
          "size": 285.6
        },
        {
          "name": "three",
          "size": 203.5
        },
        {
          "name": "framer-motion",
          "size": 156.8
        },
        {
          "name": "leaflet",
          "size": 142.3
        },
        {
          "name": "gsap",
          "size": 124.7
        }
      ],
      "pages": {
        "/": {
          "size": 89,
          "firstLoad": 245
        },
        "/map": {
          "size": 157,
          "firstLoad": 313
        },
        "/profile": {
          "size": 67,
          "firstLoad": 224
        }
      },
      "issues": [
        {
          "type": "size",
          "severity": "high",
          "message": "Large JavaScript bundle impacts initial load time"
        },
        {
          "type": "dependencies",
          "severity": "medium",
          "message": "Multiple large animation libraries detected"
        }
      ]
    },
    "mobile": {
      "devices": {
        "iPhone 12": {
          "loadTime": 2.8,
          "interactive": 4.1,
          "memoryUsage": 67
        },
        "Samsung Galaxy S21": {
          "loadTime": 3.1,
          "interactive": 4.4,
          "memoryUsage": 73
        },
        "iPhone SE": {
          "loadTime": 3.9,
          "interactive": 5.6,
          "memoryUsage": 89
        }
      },
      "networks": {
        "4G": {
          "loadTime": 2.3,
          "dataUsage": 2.1,
          "errorRate": 0.02
        },
        "3G": {
          "loadTime": 4.7,
          "dataUsage": 2.5,
          "errorRate": 0.05
        },
        "Slow 3G": {
          "loadTime": 8.9,
          "dataUsage": 3.2,
          "errorRate": 0.12
        }
      },
      "batteryImpact": {
        "gpsUsage": 8.5,
        "networkActivity": 4.2,
        "totalEstimated": 15.3
      },
      "issues": [
        {
          "type": "performance",
          "severity": "high",
          "message": "Poor performance on slower devices and networks"
        },
        {
          "type": "battery",
          "severity": "medium",
          "message": "GPS usage optimization needed"
        }
      ]
    },
    "network": {
      "resourceLoading": {
        "HTML": {
          "size": 89,
          "loadTime": 120,
          "cached": true,
          "compressed": true
        },
        "CSS": {
          "size": 156,
          "loadTime": 180,
          "cached": true,
          "compressed": true
        },
        "JavaScript": {
          "size": 387,
          "loadTime": 450,
          "cached": true,
          "compressed": true
        },
        "Images": {
          "size": 234,
          "loadTime": 320,
          "cached": false,
          "compressed": false
        },
        "Fonts": {
          "size": 67,
          "loadTime": 210,
          "cached": true,
          "compressed": true
        }
      },
      "compression": {
        "gzipEnabled": true,
        "brotliEnabled": false,
        "compressionRatio": 0.73,
        "savings": 287
      },
      "cdn": {
        "hitRate": 0.89,
        "averageLatency": 85,
        "bandwidth": 73
      },
      "issues": [
        {
          "type": "optimization",
          "severity": "medium",
          "message": "Images not compressed or cached effectively"
        },
        {
          "type": "compression",
          "severity": "low",
          "message": "Brotli compression not enabled"
        }
      ]
    },
    "backend": {
      "apiResponseTimes": {
        "/api/annotations": {
          "average": 145,
          "p95": 280,
          "p99": 450
        },
        "/api/auth/profile": {
          "average": 98,
          "p95": 180,
          "p99": 320
        },
        "/api/map/nearby": {
          "average": 220,
          "p95": 380,
          "p99": 650
        }
      },
      "throughput": {
        "maxRPS": 450,
        "sustainableRPS": 320,
        "breakingPoint": 180
      },
      "errors": {
        "total": 23,
        "rate": 0.8,
        "types": [
          "timeout",
          "rate_limit",
          "server_error"
        ]
      },
      "issues": [
        {
          "type": "scalability",
          "severity": "high",
          "message": "Performance degrades significantly above 150 concurrent users"
        },
        {
          "type": "latency",
          "severity": "medium",
          "message": "Map nearby queries show high latency"
        }
      ]
    }
  },
  "summary": {
    "overallScore": 75,
    "criticalIssues": [],
    "highPriorityIssues": [
      {
        "type": "performance",
        "severity": "high",
        "message": "Slow geospatial queries need index optimization"
      },
      {
        "type": "size",
        "severity": "high",
        "message": "Large JavaScript bundle impacts initial load time"
      },
      {
        "type": "performance",
        "severity": "high",
        "message": "Poor performance on slower devices and networks"
      },
      {
        "type": "scalability",
        "severity": "high",
        "message": "Performance degrades significantly above 150 concurrent users"
      }
    ],
    "recommendations": [
      {
        "category": "Frontend Performance",
        "priority": "Critical",
        "issue": "Low Lighthouse performance score",
        "recommendation": "Implement code splitting, optimize images, and reduce JavaScript bundle size",
        "impact": "High - Improves user experience and Core Web Vitals",
        "timeframe": "Immediate (1-2 weeks)",
        "effort": "High"
      },
      {
        "category": "Bundle Optimization",
        "priority": "High",
        "issue": "Large JavaScript bundle: 387KB",
        "recommendation": "Implement tree shaking, code splitting, and dynamic imports",
        "impact": "High - Reduces initial load time",
        "timeframe": "Short-term (2-3 weeks)",
        "effort": "High"
      },
      {
        "category": "Database Performance",
        "priority": "High",
        "issue": "Database performance bottlenecks detected",
        "recommendation": "Add missing indexes, optimize slow queries, implement query caching",
        "impact": "High - Improves API response times",
        "timeframe": "Medium-term (3-4 weeks)",
        "effort": "Medium"
      },
      {
        "category": "Mobile Optimization",
        "priority": "Medium",
        "issue": "High mobile battery consumption",
        "recommendation": "Optimize GPS usage, implement efficient polling, reduce background processing",
        "impact": "Medium - Better mobile user experience",
        "timeframe": "Medium-term (4-6 weeks)",
        "effort": "Medium"
      },
      {
        "category": "Network Optimization",
        "priority": "Low",
        "issue": "Brotli compression not enabled",
        "recommendation": "Enable Brotli compression for better compression ratios",
        "impact": "Low - Marginal bandwidth savings",
        "timeframe": "Short-term (1 week)",
        "effort": "Low"
      }
    ]
  },
  "metrics": {
    "coreWebVitals": {
      "lcp": 2.1,
      "fid": 89,
      "cls": 0.08,
      "fcp": 1.6,
      "si": 2.8
    },
    "performance": {},
    "scalability": {},
    "optimization": {}
  }
}