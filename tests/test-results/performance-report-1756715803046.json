{
  "timestamp": "2025-09-01T08:35:00.173Z",
  "config": {
    "baseURL": "http://localhost:3003",
    "duration": 30,
    "connections": 10,
    "pipelining": 1,
    "targetRPS": 1000,
    "thresholds": {
      "responseTime": 200,
      "throughput": 500,
      "errorRate": 0.01,
      "p95ResponseTime": 300
    }
  },
  "tests": [
    {
      "name": "Health Check Performance",
      "endpoint": "/health",
      "duration": 10.04475325,
      "avgLatency": 1.88,
      "maxLatency": 231,
      "p50": 1,
      "p99": 10,
      "throughput": 4536.3,
      "totalRequests": 45359,
      "errors": 0,
      "timeouts": 0,
      "passed": false,
      "raw": {
        "url": "http://localhost:3003/health",
        "connections": 10,
        "sampleInt": 1000,
        "pipelining": 1,
        "duration": 10.02,
        "samples": 10,
        "start": "2025-09-01T08:35:00.706Z",
        "finish": "2025-09-01T08:35:10.728Z",
        "errors": 0,
        "timeouts": 0,
        "mismatches": 0,
        "non2xx": 0,
        "resets": 0,
        "1xx": 0,
        "2xx": 45359,
        "3xx": 0,
        "4xx": 0,
        "5xx": 0,
        "statusCodeStats": {
          "200": {
            "count": 45359
          }
        },
        "latency": {
          "average": 1.88,
          "mean": 1.88,
          "stddev": 6.04,
          "min": 1,
          "max": 231,
          "p0_001": 0,
          "p0_01": 0,
          "p0_1": 0,
          "p1": 1,
          "p2_5": 1,
          "p10": 1,
          "p25": 1,
          "p50": 1,
          "p75": 1,
          "p90": 3,
          "p97_5": 6,
          "p99": 10,
          "p99_9": 102,
          "p99_99": 176,
          "p99_999": 231,
          "totalCount": 45359
        },
        "requests": {
          "average": 4536.3,
          "mean": 4536.3,
          "stddev": 1776.43,
          "min": 936,
          "max": 6662,
          "total": 45359,
          "p0_001": 936,
          "p0_01": 936,
          "p0_1": 936,
          "p1": 936,
          "p2_5": 936,
          "p10": 936,
          "p25": 3125,
          "p50": 4227,
          "p75": 6115,
          "p90": 6319,
          "p97_5": 6663,
          "p99": 6663,
          "p99_9": 6663,
          "p99_99": 6663,
          "p99_999": 6663,
          "sent": 45369
        },
        "throughput": {
          "average": 5578188.8,
          "mean": 5578188.8,
          "stddev": 2184226.12,
          "min": 1151014,
          "max": 8192240,
          "total": 55778113,
          "p0_001": 1151999,
          "p0_01": 1151999,
          "p0_1": 1151999,
          "p1": 1151999,
          "p2_5": 1151999,
          "p10": 1151999,
          "p25": 3844095,
          "p50": 5197823,
          "p75": 7516159,
          "p90": 7770111,
          "p97_5": 8196095,
          "p99": 8196095,
          "p99_9": 8196095,
          "p99_99": 8196095,
          "p99_999": 8196095
        }
      }
    },
    {
      "name": "API Documentation Access",
      "endpoint": "/api/v1/docs",
      "duration": 15.014711249999998,
      "avgLatency": 0.28,
      "maxLatency": 77,
      "throughput": 10892.4,
      "totalRequests": 163386,
      "errors": 0,
      "passed": false,
      "raw": {
        "url": "http://localhost:3003/api/v1/docs",
        "connections": 10,
        "sampleInt": 1000,
        "pipelining": 1,
        "duration": 15.01,
        "samples": 15,
        "start": "2025-09-01T08:35:10.751Z",
        "finish": "2025-09-01T08:35:25.758Z",
        "errors": 0,
        "timeouts": 0,
        "mismatches": 0,
        "non2xx": 163386,
        "resets": 0,
        "1xx": 0,
        "2xx": 0,
        "3xx": 0,
        "4xx": 163386,
        "5xx": 0,
        "statusCodeStats": {
          "401": {
            "count": 99
          },
          "429": {
            "count": 163287
          }
        },
        "latency": {
          "average": 0.28,
          "mean": 0.28,
          "stddev": 1.21,
          "min": 1,
          "max": 77,
          "p0_001": 0,
          "p0_01": 0,
          "p0_1": 0,
          "p1": 0,
          "p2_5": 0,
          "p10": 0,
          "p25": 0,
          "p50": 0,
          "p75": 0,
          "p90": 1,
          "p97_5": 2,
          "p99": 3,
          "p99_9": 12,
          "p99_99": 52,
          "p99_999": 68,
          "totalCount": 163386
        },
        "requests": {
          "average": 10892.4,
          "mean": 10892.4,
          "stddev": 1795.11,
          "min": 5618,
          "max": 12397,
          "total": 163386,
          "p0_001": 5619,
          "p0_01": 5619,
          "p0_1": 5619,
          "p1": 5619,
          "p2_5": 5619,
          "p10": 8463,
          "p25": 10183,
          "p50": 11823,
          "p75": 12119,
          "p90": 12343,
          "p97_5": 12399,
          "p99": 12399,
          "p99_9": 12399,
          "p99_99": 12399,
          "p99_999": 12399,
          "sent": 163396
        },
        "throughput": {
          "average": 13688695.47,
          "mean": 13688695.47,
          "stddev": 2232688.55,
          "min": 7164405,
          "max": 15570632,
          "total": 205321013,
          "p0_001": 7167999,
          "p0_01": 7167999,
          "p0_1": 7167999,
          "p1": 7167999,
          "p2_5": 7167999,
          "p10": 10633215,
          "p25": 12787711,
          "p50": 14852095,
          "p75": 15220735,
          "p90": 15499263,
          "p97_5": 15572991,
          "p99": 15572991,
          "p99_9": 15572991,
          "p99_99": 15572991,
          "p99_999": 15572991
        }
      }
    },
    {
      "name": "Annotations List Query",
      "endpoint": "/api/v1/annotations/list",
      "type": "database-intensive",
      "duration": 30.018361916,
      "avgLatency": 0.38,
      "maxLatency": 147,
      "throughput": 9733.9,
      "totalRequests": 291996,
      "errors": 0,
      "passed": false,
      "raw": {
        "url": "http://localhost:3003/api/v1/annotations/list?page=1&limit=10",
        "connections": 10,
        "sampleInt": 1000,
        "pipelining": 1,
        "duration": 30.01,
        "samples": 30,
        "start": "2025-09-01T08:35:25.768Z",
        "finish": "2025-09-01T08:35:55.781Z",
        "errors": 0,
        "timeouts": 0,
        "mismatches": 0,
        "non2xx": 291996,
        "resets": 0,
        "1xx": 0,
        "2xx": 0,
        "3xx": 0,
        "4xx": 291996,
        "5xx": 0,
        "statusCodeStats": {
          "429": {
            "count": 291996
          }
        },
        "latency": {
          "average": 0.38,
          "mean": 0.38,
          "stddev": 1.53,
          "min": 1,
          "max": 147,
          "p0_001": 0,
          "p0_01": 0,
          "p0_1": 0,
          "p1": 0,
          "p2_5": 0,
          "p10": 0,
          "p25": 0,
          "p50": 0,
          "p75": 0,
          "p90": 1,
          "p97_5": 3,
          "p99": 4,
          "p99_9": 14,
          "p99_99": 61,
          "p99_999": 126,
          "totalCount": 291996
        },
        "requests": {
          "average": 9733.9,
          "mean": 9733.9,
          "stddev": 2293.45,
          "min": 3465,
          "max": 11781,
          "total": 291996,
          "p0_001": 3465,
          "p0_01": 3465,
          "p0_1": 3465,
          "p1": 3465,
          "p2_5": 3465,
          "p10": 4627,
          "p25": 9175,
          "p50": 10463,
          "p75": 11399,
          "p90": 11615,
          "p97_5": 11783,
          "p99": 11783,
          "p99_9": 11783,
          "p99_99": 11783,
          "p99_999": 11783,
          "sent": 292006
        },
        "throughput": {
          "average": 12224512,
          "mean": 12224512,
          "stddev": 2880461.2,
          "min": 4352040,
          "max": 14796936,
          "total": 366746976,
          "p0_001": 4354047,
          "p0_01": 4354047,
          "p0_1": 4354047,
          "p1": 4354047,
          "p2_5": 4354047,
          "p10": 5812223,
          "p25": 11517951,
          "p50": 13139967,
          "p75": 14319615,
          "p90": 14589951,
          "p97_5": 14802943,
          "p99": 14802943,
          "p99_9": 14802943,
          "p99_99": 14802943,
          "p99_999": 14802943
        }
      }
    },
    {
      "name": "Nearby Annotations GeoQuery",
      "endpoint": "/api/v1/annotations/nearby",
      "type": "geospatial-query",
      "duration": 32.021169500000006,
      "avgLatency": 0.05,
      "maxLatency": 20,
      "throughput": 10469.8,
      "totalRequests": 341139,
      "errors": 0,
      "passed": false,
      "raw": {
        "url": "http://localhost:3003/api/v1/annotations/nearby?lat=39.9042&lng=116.4074&radius=5000",
        "connections": 4,
        "sampleInt": 1000,
        "pipelining": 1,
        "duration": 10.01,
        "samples": 10,
        "start": "2025-09-01T08:35:55.790Z",
        "finish": "2025-09-01T08:36:05.798Z",
        "errors": 0,
        "timeouts": 0,
        "mismatches": 0,
        "non2xx": 104696,
        "resets": 0,
        "1xx": 0,
        "2xx": 0,
        "3xx": 0,
        "4xx": 104696,
        "5xx": 0,
        "statusCodeStats": {
          "429": {
            "count": 104696
          }
        },
        "latency": {
          "average": 0.05,
          "mean": 0.05,
          "stddev": 0.42,
          "min": 1,
          "max": 20,
          "p0_001": 0,
          "p0_01": 0,
          "p0_1": 0,
          "p1": 0,
          "p2_5": 0,
          "p10": 0,
          "p25": 0,
          "p50": 0,
          "p75": 0,
          "p90": 0,
          "p97_5": 0,
          "p99": 2,
          "p99_9": 5,
          "p99_99": 13,
          "p99_999": 19,
          "totalCount": 104696
        },
        "requests": {
          "average": 10469.8,
          "mean": 10469.8,
          "stddev": 1263.96,
          "min": 7046,
          "max": 11437,
          "total": 341139,
          "p0_001": 7047,
          "p0_01": 7047,
          "p0_1": 7047,
          "p1": 7047,
          "p2_5": 7047,
          "p10": 7047,
          "p25": 10559,
          "p50": 10695,
          "p75": 11223,
          "p90": 11383,
          "p97_5": 11439,
          "p99": 11439,
          "p99_9": 11439,
          "p99_99": 11439,
          "p99_999": 11439,
          "sent": 104700
        },
        "throughput": {
          "average": 13150617.6,
          "mean": 13150617.6,
          "stddev": 1586504.27,
          "min": 8849776,
          "max": 14364872,
          "total": 131498176,
          "p0_001": 8855551,
          "p0_01": 8855551,
          "p0_1": 8855551,
          "p1": 8855551,
          "p2_5": 8855551,
          "p10": 8855551,
          "p25": 13262847,
          "p50": 13434879,
          "p75": 14098431,
          "p90": 14295039,
          "p97_5": 14368767,
          "p99": 14368767,
          "p99_9": 14368767,
          "p99_99": 14368767,
          "p99_999": 14368767
        }
      }
    },
    {
      "name": "Static Resource Serving",
      "endpoint": "/uploads/*",
      "type": "static-content",
      "duration": 15.058098291999995,
      "avgLatency": 6.05,
      "maxLatency": 231,
      "throughput": 3031.34,
      "totalRequests": 45465,
      "errors": 0,
      "passed": false,
      "raw": {
        "url": "http://localhost:3003/uploads/test.txt",
        "connections": 20,
        "sampleInt": 1000,
        "pipelining": 1,
        "duration": 15.05,
        "samples": 15,
        "start": "2025-09-01T08:36:27.811Z",
        "finish": "2025-09-01T08:36:42.864Z",
        "errors": 0,
        "timeouts": 0,
        "mismatches": 0,
        "non2xx": 45465,
        "resets": 0,
        "1xx": 0,
        "2xx": 0,
        "3xx": 0,
        "4xx": 45465,
        "5xx": 0,
        "statusCodeStats": {
          "404": {
            "count": 45465
          }
        },
        "latency": {
          "average": 6.05,
          "mean": 6.05,
          "stddev": 7.97,
          "min": 1,
          "max": 231,
          "p0_001": 1,
          "p0_01": 1,
          "p0_1": 2,
          "p1": 4,
          "p2_5": 4,
          "p10": 4,
          "p25": 4,
          "p50": 5,
          "p75": 6,
          "p90": 8,
          "p97_5": 14,
          "p99": 20,
          "p99_9": 142,
          "p99_99": 218,
          "p99_999": 231,
          "totalCount": 45465
        },
        "requests": {
          "average": 3031.34,
          "mean": 3031.34,
          "stddev": 725.03,
          "min": 1602,
          "max": 3722,
          "total": 45465,
          "p0_001": 1602,
          "p0_01": 1602,
          "p0_1": 1602,
          "p1": 1602,
          "p2_5": 1602,
          "p10": 1709,
          "p25": 2315,
          "p50": 3523,
          "p75": 3607,
          "p90": 3711,
          "p97_5": 3723,
          "p99": 3723,
          "p99_9": 3723,
          "p99_99": 3723,
          "p99_999": 3723,
          "sent": 45485
        },
        "throughput": {
          "average": 6217045.34,
          "mean": 6217045.34,
          "stddev": 1486445.1,
          "min": 3285702,
          "max": 7633822,
          "total": 93248715,
          "p0_001": 3287039,
          "p0_01": 3287039,
          "p0_1": 3287039,
          "p1": 3287039,
          "p2_5": 3287039,
          "p10": 3506175,
          "p25": 4751359,
          "p50": 7229439,
          "p75": 7401471,
          "p90": 7610367,
          "p97_5": 7634943,
          "p99": 7634943,
          "p99_9": 7634943,
          "p99_99": 7634943,
          "p99_999": 7634943
        }
      }
    },
    {
      "name": "Resource Usage Analysis",
      "duration": 0.1758877499999944,
      "memoryUsage": {
        "heapUsedDelta": 7023272,
        "heapTotalDelta": 1048576,
        "externalDelta": -1219246,
        "rss": 65945600
      },
      "passed": true
    }
  ],
  "summary": {
    "overallScore": 16.666666666666664,
    "passedTests": 1,
    "totalTests": 6,
    "avgResponseTime": 2,
    "totalThroughput": 38664,
    "totalErrors": 0
  },
  "recommendations": [
    {
      "category": "Database",
      "priority": "Medium",
      "issue": "数据库查询性能需要优化",
      "tests": [
        "Annotations List Query"
      ],
      "suggestion": "添加数据库索引、优化查询语句、使用Redis缓存、考虑读写分离"
    }
  ]
}