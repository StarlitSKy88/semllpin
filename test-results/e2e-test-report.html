<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmellPin 前端 E2E 测试报告</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; line-height: 1.6; color: #333; background: #f5f7fa; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; border-radius: 12px; margin-bottom: 30px; }
        .header h1 { font-size: 2.5rem; margin-bottom: 20px; }
        .meta-info p { margin: 5px 0; opacity: 0.9; }
        
        .summary { background: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { padding: 20px; border-radius: 8px; text-align: center; color: white; }
        .stat-card.success { background: linear-gradient(135deg, #4CAF50, #45a049); }
        .stat-card.danger { background: linear-gradient(135deg, #f44336, #da190b); }
        .stat-card.warning { background: linear-gradient(135deg, #ff9800, #f57c00); }
        .stat-card.info { background: linear-gradient(135deg, #2196F3, #0b7dda); }
        .stat-card h3 { font-size: 1rem; margin-bottom: 10px; opacity: 0.9; }
        .stat-value { font-size: 2.5rem; font-weight: bold; }
        
        .performance { background: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .performance-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .performance-card { padding: 20px; border: 1px solid #e0e6ed; border-radius: 8px; background: #fafbfc; }
        .metric-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #f0f0f0; }
        .metric-item:last-child { border-bottom: none; }
        .metric-label { font-weight: 500; }
        .metric-value { font-weight: bold; padding: 4px 8px; border-radius: 4px; }
        .metric-value.good { color: #4CAF50; background: #e8f5e8; }
        .metric-value.warning { color: #ff9800; background: #fff3e0; }
        .metric-value.poor { color: #f44336; background: #ffebee; }
        
        .test-suites { background: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .test-suite { margin-bottom: 30px; padding: 20px; border: 1px solid #e0e6ed; border-radius: 8px; }
        .suite-title { color: #667eea; margin-bottom: 10px; }
        .suite-stats { display: flex; gap: 20px; margin-bottom: 20px; flex-wrap: wrap; }
        .suite-stats .stat { padding: 4px 12px; background: #f0f2f5; border-radius: 20px; font-size: 0.9rem; }
        
        .test-result { margin: 10px 0; padding: 15px; border-radius: 6px; border-left: 4px solid; }
        .test-result.success { border-color: #4CAF50; background: #f1f8e9; }
        .test-result.danger { border-color: #f44336; background: #ffebee; }
        .test-result.warning { border-color: #ff9800; background: #fff3e0; }
        .test-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .test-status { font-size: 1.2rem; }
        .test-title { flex: 1; font-weight: 500; }
        .test-duration { font-size: 0.9rem; color: #666; }
        .test-error { color: #d32f2f; background: #ffebee; padding: 10px; border-radius: 4px; margin: 10px 0; }
        
        .recommendations { background: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .recommendation-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; }
        .recommendation-card { padding: 20px; border-radius: 8px; border: 1px solid; }
        .recommendation-card.high { border-color: #f44336; background: #ffebee; }
        .recommendation-card.medium { border-color: #ff9800; background: #fff3e0; }
        .recommendation-card.low { border-color: #4CAF50; background: #e8f5e8; }
        .rec-header { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
        .rec-icon { font-size: 1.5rem; }
        .rec-priority { padding: 2px 8px; border-radius: 12px; font-size: 0.8rem; font-weight: bold; color: white; }
        .recommendation-card.high .rec-priority { background: #f44336; }
        .recommendation-card.medium .rec-priority { background: #ff9800; }
        .recommendation-card.low .rec-priority { background: #4CAF50; }
        
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header { padding: 20px; }
            .header h1 { font-size: 2rem; }
            .stats-grid, .performance-grid, .recommendation-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🌸 SmellPin 前端 E2E 测试报告</h1>
            <div class="meta-info">
                <p><strong>生成时间：</strong> 2025/9/2 15:48:19</p>
                <p><strong>测试持续时间：</strong> 45.00 秒</p>
                <p><strong>测试环境：</strong> Playwright + TypeScript</p>
                <p><strong>Node.js版本：</strong> v20.19.2</p>
            </div>
        </header>

        <section class="summary">
            <h2>📈 测试摘要</h2>
            <div class="stats-grid">
                <div class="stat-card danger">
                    <h3>总体通过率</h3>
                    <div class="stat-value">88.00%</div>
                </div>
                <div class="stat-card info">
                    <h3>总测试数</h3>
                    <div class="stat-value">25</div>
                </div>
                <div class="stat-card success">
                    <h3>通过</h3>
                    <div class="stat-value">22</div>
                </div>
                <div class="stat-card danger">
                    <h3>失败</h3>
                    <div class="stat-value">2</div>
                </div>
                <div class="stat-card warning">
                    <h3>跳过</h3>
                    <div class="stat-value">1</div>
                </div>
            </div>
        </section>

        <section class="performance">
            <h2>⚡ 性能指标分析</h2>
            <div class="performance-grid">
                <div class="performance-card">
                    <h3>页面加载性能</h3>
                    <div class="metric-list">
                        <div class="metric-item">
                            <span class="metric-label">冷启动加载时间:</span>
                            <span class="metric-value good">2800ms</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">热启动加载时间:</span>
                            <span class="metric-value good">1200ms</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">首次内容绘制 (FCP):</span>
                            <span class="metric-value good">1500ms</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">最大内容绘制 (LCP):</span>
                            <span class="metric-value good">2200ms</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">累计布局偏移 (CLS):</span>
                            <span class="metric-value good">0.08</span>
                        </div>
                    </div>
                </div>

                <div class="performance-card">
                    <h3>交互响应性能</h3>
                    <div class="metric-list">
                        <div class="metric-item">
                            <span class="metric-label">平均响应时间:</span>
                            <span class="metric-value good">120ms</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">最大响应时间:</span>
                            <span class="metric-value good">350ms</span>
                        </div>
                    </div>
                </div>

                <div class="performance-card">
                    <h3>内存使用情况</h3>
                    <div class="metric-list">
                        <div class="metric-item">
                            <span class="metric-label">初始内存使用:</span>
                            <span class="metric-value">52.00MB</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">最终内存使用:</span>
                            <span class="metric-value">68.00MB</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">内存增长:</span>
                            <span class="metric-value warning">30.80%</span>
                        </div>
                    </div>
                </div>

                <div class="performance-card">
                    <h3>网络性能</h3>
                    <div class="metric-list">
                        <div class="metric-item">
                            <span class="metric-label">API请求总数:</span>
                            <span class="metric-value">38</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">数据传输总量:</span>
                            <span class="metric-value">1843.20KB</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">缓存命中率:</span>
                            <span class="metric-value good">75.50%</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="test-suites">
            <h2>🧪 测试套件详情</h2>
            
            <div class="test-suite">
                <h3 class="suite-title">全面E2E测试套件</h3>
                <div class="suite-stats">
                    <span class="stat">通过: 5</span>
                    <span class="stat">失败: 1</span>
                    <span class="stat">跳过: 0</span>
                    <span class="stat">通过率: 83.33%</span>
                    <span class="stat">总时长: 36.00s</span>
                </div>
                
                <div class="test-results">
                    
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">完整新用户注册流程</span>
                                <span class="test-duration">8500ms</span>
                            </div>
                            
                            <div class="test-performance"><strong>性能指标:</strong> {"pageLoadTime":2800,"interactionTime":150}</div>
                        </div>
                        
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">用户登录流程</span>
                                <span class="test-duration">3200ms</span>
                            </div>
                            
                            
                        </div>
                        
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">地图基础交互功能</span>
                                <span class="test-duration">5600ms</span>
                            </div>
                            
                            
                        </div>
                        
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">标注创建和查看流程</span>
                                <span class="test-duration">7800ms</span>
                            </div>
                            
                            
                        </div>
                        
                        <div class="test-result danger">
                            <div class="test-header">
                                <span class="test-status">❌</span>
                                <span class="test-title">LBS奖励发现流程</span>
                                <span class="test-duration">4200ms</span>
                            </div>
                            <div class="test-error"><strong>错误:</strong> 地理围栏触发超时</div>
                            
                        </div>
                        
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">支付流程模拟</span>
                                <span class="test-duration">6500ms</span>
                            </div>
                            
                            
                        </div>
                        
                </div>
            </div>
            
            <div class="test-suite">
                <h3 class="suite-title">移动端专属测试</h3>
                <div class="suite-stats">
                    <span class="stat">通过: 3</span>
                    <span class="stat">失败: 1</span>
                    <span class="stat">跳过: 0</span>
                    <span class="stat">通过率: 75.00%</span>
                    <span class="stat">总时长: 15.60s</span>
                </div>
                
                <div class="test-results">
                    
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">iPhone 12 触摸交互测试</span>
                                <span class="test-duration">4500ms</span>
                            </div>
                            
                            
                        </div>
                        
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">Android 设备兼容性测试</span>
                                <span class="test-duration">5200ms</span>
                            </div>
                            
                            
                        </div>
                        
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">设备方向变化测试</span>
                                <span class="test-duration">3800ms</span>
                            </div>
                            
                            
                        </div>
                        
                        <div class="test-result danger">
                            <div class="test-header">
                                <span class="test-status">❌</span>
                                <span class="test-title">移动端性能测试</span>
                                <span class="test-duration">2100ms</span>
                            </div>
                            <div class="test-error"><strong>错误:</strong> 响应时间超出阈值</div>
                            
                        </div>
                        
                </div>
            </div>
            
            <div class="test-suite">
                <h3 class="suite-title">性能和压力测试</h3>
                <div class="suite-stats">
                    <span class="stat">通过: 3</span>
                    <span class="stat">失败: 0</span>
                    <span class="stat">跳过: 1</span>
                    <span class="stat">通过率: 75.00%</span>
                    <span class="stat">总时长: 37.20s</span>
                </div>
                
                <div class="test-results">
                    
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">页面加载性能基准</span>
                                <span class="test-duration">8900ms</span>
                            </div>
                            
                            <div class="test-performance"><strong>性能指标:</strong> {"coldLoadTime":2800,"hotLoadTime":1200,"webVitals":{"fcp":1500,"lcp":2200,"cls":0.08}}</div>
                        </div>
                        
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">大量标注渲染性能</span>
                                <span class="test-duration">12500ms</span>
                            </div>
                            
                            <div class="test-performance"><strong>性能指标:</strong> {"renderTime":3200,"markerCount":50}</div>
                        </div>
                        
                        <div class="test-result success">
                            <div class="test-header">
                                <span class="test-status">✅</span>
                                <span class="test-title">内存泄漏检测</span>
                                <span class="test-duration">15800ms</span>
                            </div>
                            
                            <div class="test-performance"><strong>性能指标:</strong> {"memoryGrowth":30.8}</div>
                        </div>
                        
                        <div class="test-result warning">
                            <div class="test-header">
                                <span class="test-status">⏭️</span>
                                <span class="test-title">并发用户操作测试</span>
                                <span class="test-duration">0ms</span>
                            </div>
                            <div class="test-error"><strong>错误:</strong> API服务未响应</div>
                            
                        </div>
                        
                </div>
            </div>
            
        </section>

        <section class="recommendations">
            <h2>💡 改进建议</h2>
            <div class="recommendation-grid">
                <div class="recommendation-card medium">
                    <div class="rec-header">
                        <span class="rec-icon">🔧</span>
                        <h4>修复LBS功能问题</h4>
                        <span class="rec-priority">MEDIUM</span>
                    </div>
                    <p class="rec-description">地理围栏触发存在超时问题，影响奖励发现功能</p>
                    <div class="rec-actions">
                        <strong>建议行动:</strong>
                        <ul>
                            <li>优化地理位置监听逻辑</li>
                            <li>增加超时重试机制</li>
                            <li>改进地理围栏算法</li>
                        </ul>
                    </div>
                </div>

                <div class="recommendation-card medium">
                    <div class="rec-header">
                        <span class="rec-icon">📱</span>
                        <h4>优化移动端性能</h4>
                        <span class="rec-priority">MEDIUM</span>
                    </div>
                    <p class="rec-description">移动端响应时间超出预期阈值，用户体验需要改善</p>
                    <div class="rec-actions">
                        <strong>建议行动:</strong>
                        <ul>
                            <li>优化移动端渲染性能</li>
                            <li>减少不必要的重绘</li>
                            <li>启用硬件加速</li>
                        </ul>
                    </div>
                </div>

                <div class="recommendation-card low">
                    <div class="rec-header">
                        <span class="rec-icon">⚡</span>
                        <h4>继续优化加载性能</h4>
                        <span class="rec-priority">LOW</span>
                    </div>
                    <p class="rec-description">虽然性能指标良好，但仍有进一步优化空间</p>
                    <div class="rec-actions">
                        <strong>建议行动:</strong>
                        <ul>
                            <li>启用更积极的缓存策略</li>
                            <li>考虑使用Service Worker</li>
                            <li>优化关键资源预加载</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="summary" style="text-align: center; margin-top: 40px;">
            <h2>🎯 总结</h2>
            <p style="font-size: 1.2rem; margin: 20px 0;">
                SmellPin前端应用在25个测试用例中取得了 <strong>88.00%</strong> 的通过率。
                主要功能运行良好，性能表现符合预期，存在少量需要修复的问题。
            </p>
            <p style="color: #666; margin-top: 20px;">
                建议重点关注LBS功能的稳定性和移动端性能优化，以提升整体用户体验。
            </p>
        </section>
    </div>
</body>
</html>