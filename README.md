# SmellPin - å…¨çƒè‡­å‘³æ ‡æ³¨å¹³å°

ä¸€ä¸ªåŸºäºåœ°å›¾çš„å…¨çƒè‡­å‘³æ ‡æ³¨å’Œåˆ†äº«å¹³å°ï¼Œç”¨æˆ·å¯ä»¥åœ¨åœ°å›¾ä¸Šæ ‡è®°å’Œåˆ†äº«å„ç§æ°”å‘³ä¿¡æ¯ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

- ğŸ—ºï¸ **åœ°å›¾æ ‡æ³¨**: åœ¨å…¨çƒåœ°å›¾ä¸Šæ ‡è®°è‡­å‘³ä½ç½®
- ğŸ“Š **å¼ºåº¦è¯„çº§**: 1-10çº§è‡­å‘³å¼ºåº¦è¯„åˆ†ç³»ç»Ÿ
- ğŸ“¸ **åª’ä½“ä¸Šä¼ **: æ”¯æŒå›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘æ–‡ä»¶ä¸Šä¼ 
- ğŸ’¬ **è¯„è®ºç³»ç»Ÿ**: ç”¨æˆ·å¯ä»¥å¯¹æ ‡æ³¨è¿›è¡Œè¯„è®ºå’Œè®¨è®º
- ğŸ‘ **ç‚¹èµåŠŸèƒ½**: å¯¹æœ‰ç”¨çš„æ ‡æ³¨è¿›è¡Œç‚¹èµ
- ğŸ“ˆ **æ•°æ®ç»Ÿè®¡**: ä¸°å¯Œçš„æ•°æ®åˆ†æå’Œå¯è§†åŒ–
- ğŸ” **ç”¨æˆ·ç³»ç»Ÿ**: å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
- ğŸ’³ **æ”¯ä»˜ç³»ç»Ÿ**: æ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼çš„æ ‡æ³¨è´¹ç”¨
- ğŸ›¡ï¸ **å†…å®¹å®¡æ ¸**: ç®¡ç†å‘˜å’Œç‰ˆä¸»å®¡æ ¸ç³»ç»Ÿ
- ğŸŒ **å¤šè¯­è¨€**: æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ç­‰å¤šç§è¯­è¨€

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Node.js** + **TypeScript** - æœåŠ¡ç«¯è¿è¡Œæ—¶å’Œç±»å‹å®‰å…¨
- **Express.js** - Webæ¡†æ¶
- **PostgreSQL** + **PostGIS** - ä¸»æ•°æ®åº“å’Œåœ°ç†ä¿¡æ¯æ‰©å±•
- **Redis** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **JWT** - èº«ä»½è®¤è¯
- **Joi** - æ•°æ®éªŒè¯
- **Winston** - æ—¥å¿—ç³»ç»Ÿ
- **Jest** - æµ‹è¯•æ¡†æ¶

### å‰ç«¯æŠ€æœ¯æ ˆ
- **React 18** + **TypeScript**
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **Google Maps API** - åœ°å›¾æœåŠ¡
- **Chart.js** - æ•°æ®å¯è§†åŒ–
- **Ant Design** - UIç»„ä»¶åº“

### åŸºç¡€è®¾æ–½
- **Docker** + **Docker Compose** - å®¹å™¨åŒ–éƒ¨ç½²
- **AWS S3** - æ–‡ä»¶å­˜å‚¨
- **Stripe/PayPal** - æ”¯ä»˜å¤„ç†
- **GitHub Actions** - CI/CD

## ğŸ“š é¡¹ç›®æ–‡æ¡£

æ ¸å¿ƒé¡¹ç›®æ–‡æ¡£å·²æ•´ç†åˆ° [`docs/`](./docs/) ç›®å½•ä¸­ï¼š

- **[PRD.md](./docs/PRD.md)** - äº§å“éœ€æ±‚æ–‡æ¡£
- **[PROJECT_PLAN.md](./docs/PROJECT_PLAN.md)** - é¡¹ç›®å¼€å‘è®¡åˆ’
- **[TECH_ARCHITECTURE.md](./docs/TECH_ARCHITECTURE.md)** - æŠ€æœ¯æ¶æ„è®¾è®¡
- **[PAYMENT_SETUP.md](./docs/PAYMENT_SETUP.md)** - æ”¯ä»˜ç³»ç»Ÿé…ç½®æŒ‡å—

è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ [docs/README.md](./docs/README.md)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- Docker & Docker Compose (ç”Ÿäº§ç¯å¢ƒ)
- PostgreSQL 15+ (ç”Ÿäº§ç¯å¢ƒ)
- Redis 7+ (ç”Ÿäº§ç¯å¢ƒ)

### æ–¹å¼ä¸€ï¼šå¼€å‘æ¨¡å¼ï¼ˆæ¨èæ–°æ‰‹ï¼‰

**æ— éœ€Dockerï¼Œä½¿ç”¨SQLiteæ•°æ®åº“**

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd è‡­å‘³

# ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
./start-dev.sh

# æˆ–è€…ä½¿ç”¨éƒ¨ç½²è„šæœ¬
./scripts/deploy.sh dev
```

è®¿é—®åœ°å€ï¼š
- å‰ç«¯: http://localhost:5173
- åç«¯: http://localhost:3000

### æ–¹å¼äºŒï¼šDockeréƒ¨ç½²

**é€‚åˆç”Ÿäº§ç¯å¢ƒæˆ–å®Œæ•´åŠŸèƒ½æµ‹è¯•**

#### Dockerå®‰è£…

å¦‚æœé‡åˆ°"Docker æœªå®‰è£…"é”™è¯¯ï¼Œè¯·é€‰æ‹©ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€ï¼š

1. **Docker Desktopï¼ˆæ¨èï¼‰**
   ```bash
   # è®¿é—® https://www.docker.com/products/docker-desktop
   # ä¸‹è½½å¹¶å®‰è£… Docker Desktop
   ```

2. **Colimaï¼ˆè½»é‡çº§ï¼‰**
   ```bash
   brew install colima docker docker-compose
   colima start
   ```

3. **æŸ¥çœ‹è¯¦ç»†å®‰è£…æŒ‡å—**
   ```bash
   # æŸ¥çœ‹å®Œæ•´çš„Dockerå®‰è£…æŒ‡å—
   cat docs/DOCKER_SETUP.md
   ```

#### å¯åŠ¨æœåŠ¡

```bash
# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
./scripts/deploy.sh production v1.0.0

# æˆ–ä½¿ç”¨docker-compose
docker-compose up -d
```

è®¿é—®åœ°å€ï¼š
- APIæœåŠ¡: http://localhost:3000
- APIæ–‡æ¡£: http://localhost:3000/api/v1/docs
- æ•°æ®åº“ç®¡ç†: http://localhost:5050 (pgAdmin)
- Redisç®¡ç†: http://localhost:8081 (Redis Commander)

### æ‰‹åŠ¨å®‰è£…

1. **å®‰è£…ä¾èµ–**
```bash
npm install
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥æ­£ç¡®çš„é…ç½®
```

3. **å¯åŠ¨æ•°æ®åº“æœåŠ¡**
```bash
# PostgreSQL
sudo service postgresql start

# Redis
sudo service redis start
```

4. **è¿è¡Œæ•°æ®åº“è¿ç§»**
```bash
npm run migrate
```

5. **å¡«å……ç¤ºä¾‹æ•°æ®**
```bash
npm run seed
```

6. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

## ğŸ“š APIæ–‡æ¡£

### è®¤è¯

å¤§éƒ¨åˆ†APIéœ€è¦JWTä»¤ç‰Œè®¤è¯ï¼š

```bash
Authorization: Bearer <your-jwt-token>
```

### ä¸»è¦ç«¯ç‚¹

#### ç”¨æˆ·ç®¡ç†
- `POST /api/v1/users/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/v1/users/login` - ç”¨æˆ·ç™»å½•
- `GET /api/v1/users/profile/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/v1/users/profile` - æ›´æ–°ç”¨æˆ·èµ„æ–™

#### æ ‡æ³¨ç®¡ç†
- `GET /api/v1/annotations/list` - è·å–æ ‡æ³¨åˆ—è¡¨
- `GET /api/v1/annotations/map` - è·å–åœ°å›¾æ•°æ®
- `POST /api/v1/annotations` - åˆ›å»ºæ–°æ ‡æ³¨
- `GET /api/v1/annotations/:id` - è·å–æ ‡æ³¨è¯¦æƒ…
- `PUT /api/v1/annotations/:id` - æ›´æ–°æ ‡æ³¨

#### ç¤ºä¾‹è¯·æ±‚

**åˆ›å»ºæ ‡æ³¨**
```bash
curl -X POST http://localhost:3000/api/v1/annotations \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "latitude": 39.9042,
    "longitude": 116.4074,
    "smellIntensity": 8,
    "description": "å¼ºçƒˆçš„æ±½è½¦å°¾æ°”å‘³é“"
  }'
```

**è·å–åœ°å›¾æ•°æ®**
```bash
curl "http://localhost:3000/api/v1/annotations/map?north=40&south=39&east=117&west=116"
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

## ğŸ“¦ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **æ„å»ºåº”ç”¨**
```bash
npm run build
```

2. **è®¾ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env.production
# ç¼–è¾‘ç”Ÿäº§ç¯å¢ƒé…ç½®
```

3. **å¯åŠ¨ç”Ÿäº§æœåŠ¡**
```bash
npm start
```

### Dockerç”Ÿäº§éƒ¨ç½²

```bash
# æ„å»ºç”Ÿäº§é•œåƒ
docker build -t smellpin-api .

# è¿è¡Œç”Ÿäº§å®¹å™¨
docker run -d \
  --name smellpin-api \
  -p 3000:3000 \
  --env-file .env.production \
  smellpin-api
```

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶
â”œâ”€â”€ controllers/     # æ§åˆ¶å™¨
â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”œâ”€â”€ routes/          # è·¯ç”±å®šä¹‰
â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â””â”€â”€ types/           # TypeScriptç±»å‹å®šä¹‰

migrations/          # æ•°æ®åº“è¿ç§»æ–‡ä»¶
seeds/              # æ•°æ®åº“ç§å­æ•°æ®
tests/              # æµ‹è¯•æ–‡ä»¶
scripts/            # è„šæœ¬æ–‡ä»¶
```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ESLintå’ŒPrettierè¿›è¡Œä»£ç æ ¼å¼åŒ–
- éµå¾ªTypeScriptä¸¥æ ¼æ¨¡å¼
- ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„Gitæäº¤ä¿¡æ¯

### æ•°æ®åº“è¿ç§»

```bash
# åˆ›å»ºæ–°è¿ç§»
npm run migrate:create <migration_name>

# è¿è¡Œè¿ç§»
npm run migrate

# å›æ»šè¿ç§»
npm run migrate:rollback
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰ç–‘é—®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹[å¸¸è§é—®é¢˜](docs/FAQ.md)
2. æœç´¢[å·²æœ‰Issues](../../issues)
3. åˆ›å»ºæ–°çš„[Issue](../../issues/new)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

---

**SmellPin** - è®©ä¸–ç•Œçš„æ°”å‘³ä¿¡æ¯æ›´é€æ˜ ğŸŒğŸ‘ƒ