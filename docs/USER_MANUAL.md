# SmellPin 用户使用说明

## 项目简介

SmellPin 是一个基于地理位置的社交标注平台，用户可以在地图上标记特定位置的气味信息，分享体验，并与其他用户互动。

## 核心功能

### 1. 用户认证系统
- **用户注册**: 使用邮箱和密码创建账户
- **用户登录**: 安全的JWT令牌认证
- **个人资料管理**: 编辑用户信息和头像

### 2. 地图标注功能
- **创建标注**: 在地图上点击位置添加气味标注
- **查看标注**: 浏览地图上的所有标注信息
- **编辑标注**: 修改自己创建的标注内容
- **删除标注**: 移除不需要的标注
- **标注分类**: 支持多种气味类型分类

### 3. LBS附近查询
- **附近标注**: 基于当前位置查找附近的气味标注
- **距离筛选**: 按距离范围筛选标注
- **实时定位**: 获取用户当前位置信息

### 4. 支付系统
- **Stripe集成**: 安全的在线支付处理
- **会员订阅**: 支持月度和年度会员计划
- **支付历史**: 查看所有支付记录
- **退款处理**: 支持退款申请和处理

### 5. 社交互动
- **用户关注**: 关注感兴趣的用户
- **评论系统**: 对标注进行评论和回复
- **点赞功能**: 为喜欢的标注点赞
- **分享功能**: 分享标注到社交媒体

### 6. 通知系统
- **实时通知**: WebSocket实时消息推送
- **邮件通知**: 重要事件的邮件提醒
- **通知设置**: 自定义通知偏好

### 7. 用户管理后台
- **内容审核**: 管理员审核用户提交的内容
- **用户管理**: 查看和管理用户账户
- **数据统计**: 平台使用数据分析
- **系统监控**: 服务器性能和错误监控

## 使用指南

### 注册和登录
1. 访问应用首页
2. 点击"注册"按钮
3. 填写邮箱、用户名和密码
4. 验证邮箱地址
5. 登录开始使用

### 创建标注
1. 登录后进入地图页面
2. 点击地图上的目标位置
3. 填写标注信息：
   - 气味类型
   - 强度等级
   - 详细描述
   - 上传相关图片
4. 点击"保存"完成创建

### 查看附近标注
1. 允许应用获取位置权限
2. 点击"附近"按钮
3. 设置搜索半径
4. 浏览附近的标注列表
5. 点击标注查看详细信息

### 社交互动
1. 浏览其他用户的标注
2. 点击"关注"按钮关注用户
3. 在标注下方添加评论
4. 为喜欢的内容点赞
5. 分享有趣的标注

### 会员订阅
1. 进入"会员中心"
2. 选择订阅计划
3. 填写支付信息
4. 确认订阅
5. 享受会员特权

## API 接口文档

### 认证接口

#### 用户注册
```
POST /api/auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "username": "username",
  "password": "password123"
}
```

#### 用户登录
```
POST /api/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123"
}
```

### 标注接口

#### 创建标注
```
POST /api/annotations
Authorization: Bearer <token>
Content-Type: application/json

{
  "latitude": 40.7128,
  "longitude": -74.0060,
  "smell_type": "food",
  "intensity": 5,
  "description": "美味的烤肉香味"
}
```

#### 获取标注列表
```
GET /api/annotations?page=1&limit=20
Authorization: Bearer <token>
```

#### 附近标注查询
```
GET /api/lbs/nearby?lat=40.7128&lng=-74.0060&radius=1000
Authorization: Bearer <token>
```

### 支付接口

#### 创建支付意图
```
POST /api/payments/create-intent
Authorization: Bearer <token>
Content-Type: application/json

{
  "amount": 999,
  "currency": "usd",
  "plan_type": "monthly"
}
```

## 技术支持

### 常见问题

**Q: 无法获取位置信息怎么办？**
A: 请确保浏览器允许位置访问权限，并检查设备的GPS功能是否开启。

**Q: 支付失败如何处理？**
A: 请检查银行卡信息是否正确，或联系客服获取帮助。

**Q: 如何删除自己的标注？**
A: 在标注详情页面点击"删除"按钮，确认后即可删除。

### 联系我们
- 邮箱: support@smellpin.com
- 电话: +1-555-0123
- 在线客服: 工作日 9:00-18:00

## 隐私政策

我们重视用户隐私，严格保护用户数据安全：
- 位置信息仅用于标注功能
- 个人信息采用加密存储
- 不会向第三方泄露用户数据
- 用户可随时删除账户和数据

## 使用条款

使用SmellPin服务即表示同意以下条款：
- 不发布虚假或误导性信息
- 尊重其他用户和社区规则
- 不进行恶意攻击或滥用服务
- 遵守当地法律法规

---

*最后更新: 2024年1月*